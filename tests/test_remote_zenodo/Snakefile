from snakemake.remote.zenodo import RemoteProvider
import os

# Setup a Zenodo sandbox account at https://sandbox.zenodo.org and create personal access token
access_token=os.environ["ZENODO_SANDBOX_PAT"]
ZEN = RemoteProvider(access_token=access_token, sandbox=True)

rule all:
    input: ZEN.remote("upload.txt"), "download.txt"

rule download:
    input:
        ZEN.remote("upload.txt")
    output:
        "download.txt"
    shell:
        "cp {input} {output}"

rule upload:
    output: ZEN.remote("upload.txt")
    shell: "touch {output}"
